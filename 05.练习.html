<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>添加删除记录练习</title>
<link rel="stylesheet" type="text/css" href="ex_2_style/css.css" />
<script type="text/javascript">
	function onclickA (){
				var tr = this.parentNode.parentNode;
				
				
				var flag = confirm("确认删除"+this.parentNode.parentNode.firstElementChild.innerText+"?")
				
				if(flag){
					tr.parentNode.removeChild(tr);
				}
				return false;
			}
	
window.onload=function(){
	
	/*
	 
	 * 点击超链接以后删除信息*/
		var allA = document.getElementsByTagName("a")
//		遍历
		for(var i= 0;i<allA.length;i++){
			allA[i].onclick = onclickA
		}
	var btn01 = document.getElementById("addEmpButton");
	btn01.onclick = function(){
		
////		获取文本框里的字符
		var name = document.getElementById("empName").value
		var email = document.getElementById("email").value
		var salary = document.getElementById("salary").value
//		
//		
//		//创建tr元素
//		var tr = document.createElement("tr")
//		
//		
//		
////		创建td元素
//		var tname = document.createElement("td")
//		var temail = document.createElement("td")
//		var tsalary = document.createElement("td")
//		var ta = document.createElement("td")
//		
////		创建a元素
//		var a = document.createElement("a")
//		
//		
////		创建文本节点
//		var nameText = document.createTextNode(name)
//		var emailText = document.createTextNode(email)
//		var salaryText = document.createTextNode(salary)
//		var aText = document.createTextNode("Delete")
//		
//		
//		
//		
////		捏起来
//		tname.appendChild(nameText)
//		temail.appendChild(emailText)
//		tsalary.appendChild(salaryText)
////		先把a的内容放进a元素里
//		a.appendChild(aText)
////		再把已经有内容的a放进td里
//		ta.appendChild(a)
//		
////		创建好的有内容的td放进tr里
//		tr.appendChild(tname)
//		tr.appendChild(temail)
//		tr.appendChild(tsalary)
//		tr.appendChild(ta)
//		
////		为tr里的a创建响应事件
//		a.onclick = onclickA
////		获取列表属性table
//		var employeeTable = document.getElementById("employeeTable");
//		
////		获取table里的隐藏tbody属性.防止css选择器样式因为多了个tbody隐藏元素而找不到
//		var tbody =document.getElementsByTagName("tbody")[0]
//		
////		把tr捏紧tbody里
//		tbody.appendChild(tr);
////		为a创建一个href属性
//		a.href = "#"
		
		var tr = document.createElement("tr");
		tr.innerHTML = "<td>"+name+"</td>"+
						"<td>"+email+"</td>"+
						"<td>"+salary+"</td>"+
						"<td><a href=#>Delete</a></td>";
						
		var a=tr.getElementsByTagName("a")[0];

		a.onclick = onclickA;
		
		var employeeTable = document.getElementById("employeeTable");
		
		var tbody = employeeTable.getElementsByTagName("tbody")[0]
		
		
		tbody.appendChild(tr);
		
	}
	
}

	
</script>
</head>
<body>

	<table id="employeeTable">
		<tr>
			<th>Name</th>
			<th>Email</th>
			<th>Salary</th>
			<th>&nbsp;</th>
		</tr>
		<tr>
			<td>Tom</td>
			<td>tom@tom.com</td>
			<td>5000</td>
			<td><a href="javascript:;">Delete</a></td>
		</tr>
		<tr>
			<td>Jerry</td>
			<td>jerry@sohu.com</td>
			<td>8000</td>
			<td><a href="deleteEmp?id=002">Delete</a></td>
		</tr>
		<tr>
			<td>Bob</td>
			<td>bob@tom.com</td>
			<td>10000</td>
			<td><a href="deleteEmp?id=003">Delete</a></td>
		</tr>
	</table>

	<div id="formDiv">
	
		<h4>添加新员工</h4>

		<table>
			<tr>
				<td class="word">name: </td>
				<td class="inp">
					<input type="text" name="empName" id="empName" />
				</td>
			</tr>
			<tr>
				<td class="word">email: </td>
				<td class="inp">
					<input type="text" name="email" id="email" />
				</td>
			</tr>
			<tr>
				<td class="word">salary: </td>
				<td class="inp">
					<input type="text" name="salary" id="salary" />
				</td>
			</tr>
			<tr>
				<td colspan="2" align="center">
					<button id="addEmpButton" value="abc">
						Submit
					</button>
				</td>
			</tr>
		</table>

	</div>

</body>
</html>
